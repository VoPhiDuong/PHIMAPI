{"ast":null,"code":"import React from'react';import{Link as RouterLink}from'react-router-dom';import{Card,CardActionArea,CardContent,CardMedia,Typography,Box,Chip,Rating,Tooltip}from'@mui/material';import{PlayArrow,Visibility}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieCard=_ref=>{let{movie}=_ref;// Xử lý khi không có poster\nconst posterUrl=movie.poster_url&&movie.poster_url.startsWith('http')?movie.poster_url:movie.poster_url?\"https://phimimg.com/\".concat(movie.poster_url):'https://via.placeholder.com/300x450?text=No+Image';// Xử lý rating từ TMDB nếu có\nconst rating=movie.tmdb&&movie.tmdb.vote_average?movie.tmdb.vote_average/2:0;return/*#__PURE__*/_jsx(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',position:'relative',overflow:'hidden',borderRadius:2,boxShadow:3,'&:hover .movie-overlay':{opacity:1},'&:hover .movie-play-icon':{transform:'translate(-50%, -50%) scale(1.2)'}},children:/*#__PURE__*/_jsxs(CardActionArea,{component:RouterLink,to:\"/phim/\".concat(movie.slug),sx:{flexGrow:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',paddingTop:'150%'/* 2:3 aspect ratio */},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:posterUrl,alt:movie.name,sx:{position:'absolute',top:0,left:0,width:'100%',height:'100%',objectFit:'cover'}}),/*#__PURE__*/_jsx(Box,{className:\"movie-overlay\",sx:{position:'absolute',top:0,left:0,width:'100%',height:'100%',bgcolor:'rgba(0, 0, 0, 0.5)',display:'flex',alignItems:'center',justifyContent:'center',opacity:0,transition:'opacity 0.3s ease'},children:/*#__PURE__*/_jsx(Box,{className:\"movie-play-icon\",sx:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:60,height:60,borderRadius:'50%',bgcolor:'primary.main',display:'flex',alignItems:'center',justifyContent:'center',transition:'transform 0.3s ease'},children:/*#__PURE__*/_jsx(PlayArrow,{sx:{fontSize:40,color:'white'}})})}),movie.episode_current&&/*#__PURE__*/_jsx(Chip,{label:movie.episode_current,color:\"primary\",size:\"small\",sx:{position:'absolute',top:10,right:10,fontWeight:'bold',fontSize:'0.75rem'}}),movie.quality&&/*#__PURE__*/_jsx(Chip,{label:movie.quality,color:\"secondary\",size:\"small\",sx:{position:'absolute',top:10,left:10,fontWeight:'bold',fontSize:'0.75rem'}}),movie.year&&/*#__PURE__*/_jsx(Chip,{label:movie.year,color:\"info\",size:\"small\",sx:{position:'absolute',bottom:10,right:10,fontWeight:'bold',fontSize:'0.75rem'}})]}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,p:2},children:[/*#__PURE__*/_jsx(Tooltip,{title:movie.name,placement:\"top\",children:/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"div\",sx:{fontWeight:'bold',fontSize:'1rem',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',lineHeight:1.2,height:'2.4em'},children:movie.name})}),movie.origin_name&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:1,WebkitBoxOrient:'vertical',mb:1,fontStyle:'italic'},children:movie.origin_name}),rating>0&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mt:1},children:[/*#__PURE__*/_jsx(Rating,{value:rating,precision:0.5,size:\"small\",readOnly:true,sx:{mr:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[rating.toFixed(1),\"/5\"]})]})]})]})});};export default MovieCard;","map":{"version":3,"names":["React","Link","RouterLink","Card","CardActionArea","CardContent","CardMedia","Typography","Box","Chip","Rating","Tooltip","PlayArrow","Visibility","jsx","_jsx","jsxs","_jsxs","MovieCard","_ref","movie","posterUrl","poster_url","startsWith","concat","rating","tmdb","vote_average","sx","height","display","flexDirection","position","overflow","borderRadius","boxShadow","opacity","transform","children","component","to","slug","flexGrow","paddingTop","image","alt","name","top","left","width","objectFit","className","bgcolor","alignItems","justifyContent","transition","fontSize","color","episode_current","label","size","right","fontWeight","quality","year","bottom","p","title","placement","gutterBottom","variant","textOverflow","WebkitLineClamp","WebkitBoxOrient","lineHeight","origin_name","mb","fontStyle","mt","value","precision","readOnly","mr","toFixed"],"sources":["D:/Phim API/src/components/MovieCard.js"],"sourcesContent":["import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  Card,\n  CardActionArea,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  Chip,\n  Rating,\n  Tooltip,\n} from '@mui/material';\nimport { PlayArrow, Visibility } from '@mui/icons-material';\n\nconst MovieCard = ({ movie }) => {\n  // Xử lý khi không có poster\n  const posterUrl = movie.poster_url && movie.poster_url.startsWith('http')\n    ? movie.poster_url\n    : movie.poster_url\n      ? `https://phimimg.com/${movie.poster_url}`\n      : 'https://via.placeholder.com/300x450?text=No+Image';\n\n  // Xử lý rating từ TMDB nếu có\n  const rating = movie.tmdb && movie.tmdb.vote_average ? movie.tmdb.vote_average / 2 : 0;\n\n  return (\n    <Card\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        position: 'relative',\n        overflow: 'hidden',\n        borderRadius: 2,\n        boxShadow: 3,\n        '&:hover .movie-overlay': {\n          opacity: 1,\n        },\n        '&:hover .movie-play-icon': {\n          transform: 'translate(-50%, -50%) scale(1.2)',\n        },\n      }}\n    >\n      <CardActionArea component={RouterLink} to={`/phim/${movie.slug}`} sx={{ flexGrow: 1 }}>\n        <Box sx={{ position: 'relative', paddingTop: '150%' /* 2:3 aspect ratio */ }}>\n          <CardMedia\n            component=\"img\"\n            image={posterUrl}\n            alt={movie.name}\n            sx={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n            }}\n          />\n          \n          {/* Overlay with play button */}\n          <Box\n            className=\"movie-overlay\"\n            sx={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              bgcolor: 'rgba(0, 0, 0, 0.5)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              opacity: 0,\n              transition: 'opacity 0.3s ease',\n            }}\n          >\n            <Box\n              className=\"movie-play-icon\"\n              sx={{\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: 60,\n                height: 60,\n                borderRadius: '50%',\n                bgcolor: 'primary.main',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'transform 0.3s ease',\n              }}\n            >\n              <PlayArrow sx={{ fontSize: 40, color: 'white' }} />\n            </Box>\n          </Box>\n\n          {/* Episode badge if it's a series */}\n          {movie.episode_current && (\n            <Chip\n              label={movie.episode_current}\n              color=\"primary\"\n              size=\"small\"\n              sx={{\n                position: 'absolute',\n                top: 10,\n                right: 10,\n                fontWeight: 'bold',\n                fontSize: '0.75rem',\n              }}\n            />\n          )}\n\n          {/* Quality badge */}\n          {movie.quality && (\n            <Chip\n              label={movie.quality}\n              color=\"secondary\"\n              size=\"small\"\n              sx={{\n                position: 'absolute',\n                top: 10,\n                left: 10,\n                fontWeight: 'bold',\n                fontSize: '0.75rem',\n              }}\n            />\n          )}\n\n          {/* Year badge */}\n          {movie.year && (\n            <Chip\n              label={movie.year}\n              color=\"info\"\n              size=\"small\"\n              sx={{\n                position: 'absolute',\n                bottom: 10,\n                right: 10,\n                fontWeight: 'bold',\n                fontSize: '0.75rem',\n              }}\n            />\n          )}\n        </Box>\n\n        <CardContent sx={{ flexGrow: 1, p: 2 }}>\n          <Tooltip title={movie.name} placement=\"top\">\n            <Typography\n              gutterBottom\n              variant=\"h6\"\n              component=\"div\"\n              sx={{\n                fontWeight: 'bold',\n                fontSize: '1rem',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical',\n                lineHeight: 1.2,\n                height: '2.4em',\n              }}\n            >\n              {movie.name}\n            </Typography>\n          </Tooltip>\n\n          {movie.origin_name && (\n            <Typography\n              variant=\"body2\"\n              color=\"text.secondary\"\n              sx={{\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                display: '-webkit-box',\n                WebkitLineClamp: 1,\n                WebkitBoxOrient: 'vertical',\n                mb: 1,\n                fontStyle: 'italic',\n              }}\n            >\n              {movie.origin_name}\n            </Typography>\n          )}\n\n          {/* Rating */}\n          {rating > 0 && (\n            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n              <Rating\n                value={rating}\n                precision={0.5}\n                size=\"small\"\n                readOnly\n                sx={{ mr: 1 }}\n              />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {rating.toFixed(1)}/5\n              </Typography>\n            </Box>\n          )}\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default MovieCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}