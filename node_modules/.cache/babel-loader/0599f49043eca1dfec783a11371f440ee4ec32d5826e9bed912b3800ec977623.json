{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'https://phimapi.com';\n\n// Tạo instance axios với cấu hình chung\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Xử lý lỗi chung\napi.interceptors.response.use(response => response, error => {\n  console.error('API Error:', error);\n  return Promise.reject(error);\n});\n\n// API cho trang chủ\nexport const homeApi = {\n  // Lấy phim mới cập nhật cho slider chính\n  getFeaturedMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v3?page=1'),\n  // Lấy phim mới cập nhật\n  getNewMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v2?page=1'),\n  // Lấy phim bộ\n  getSeriesMovies: () => api.get('/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  // Lấy phim lẻ\n  getSingleMovies: () => api.get('/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  // Lấy phim hoạt hình\n  getAnimationMovies: () => api.get('/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12')\n};\n\n// API cho chi tiết phim\nexport const movieApi = {\n  // Lấy thông tin chi tiết phim\n  getMovieDetail: slug => api.get(`/phim/${slug}`),\n  // Lấy thông tin tập phim\n  getEpisodeDetail: (movieId, episodeId) => api.get(`/xem-phim/${movieId}/${episodeId}`)\n};\n\n// API cho danh sách phim\nexport const listApi = {\n  // Lấy danh sách phim theo loại\n  getMoviesByType: (type, params) => {\n    if (type === 'phim-moi-cap-nhat' || type === 'phim-hay') {\n      // Thêm các tham số lọc vào URL nếu có\n      let url = `/danh-sach/phim-moi-cap-nhat-v2?page=${params.page || 1}`;\n      if (params.limit) url += `&limit=${params.limit}`;\n      if (params.category) url += `&category=${params.category}`;\n      if (params.country) url += `&country=${params.country}`;\n      if (params.year) url += `&year=${params.year}`;\n      if (params.sort_field) url += `&sort_field=${params.sort_field}`;\n      if (params.sort_type) url += `&sort_type=${params.sort_type}`;\n      return api.get(url);\n    } else {\n      return api.get(`/v1/api/danh-sach/${type}`, {\n        params\n      });\n    }\n  },\n  // Lấy danh sách phim theo thể loại\n  getMoviesByCategory: (slug, params) => api.get(`/v1/api/the-loai/${slug}`, {\n    params\n  }),\n  // Lấy danh sách phim theo quốc gia\n  getMoviesByCountry: (slug, params) => api.get(`/v1/api/quoc-gia/${slug}`, {\n    params\n  }),\n  // Lấy danh sách phim theo năm\n  getMoviesByYear: (year, params) => api.get(`/v1/api/nam/${year}`, {\n    params\n  }),\n  // Tìm kiếm phim\n  searchMovies: params => api.get('/v1/api/tim-kiem', {\n    params\n  }),\n  // Lấy danh sách phim mới cập nhật với phân trang nâng cao\n  getNewMoviesAdvanced: (params = {}) => {\n    let url = `/danh-sach/phim-moi-cap-nhat-v2?page=${params.page || 1}`;\n    if (params.limit) url += `&limit=${params.limit}`;\n    if (params.category) url += `&category=${params.category}`;\n    if (params.country) url += `&country=${params.country}`;\n    if (params.year) url += `&year=${params.year}`;\n    return api.get(url);\n  },\n  // Lấy danh sách phim lẻ với phân trang nâng cao\n  getSingleMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/phim-le', {\n      params\n    });\n  },\n  // Lấy danh sách phim bộ với phân trang nâng cao\n  getSeriesMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/phim-bo', {\n      params\n    });\n  },\n  // Lấy danh sách phim hoạt hình với phân trang nâng cao\n  getAnimationMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/hoat-hinh', {\n      params\n    });\n  }\n};\n\n// API cho metadata\nexport const metadataApi = {\n  // Lấy danh sách thể loại\n  getCategories: () => api.get('/the-loai'),\n  // Lấy danh sách quốc gia\n  getCountries: () => api.get('/quoc-gia'),\n  // Lấy danh sách năm\n  getYears: () => {\n    // Tạo danh sách năm từ năm hiện tại trở về trước 20 năm\n    const currentYear = new Date().getFullYear();\n    const years = [];\n    for (let i = 0; i <= 20; i++) {\n      years.push(currentYear - i);\n    }\n    return Promise.resolve({\n      data: years\n    });\n  }\n};\n\n// API cho tìm kiếm gợi ý\nexport const suggestApi = {\n  // Lấy gợi ý tìm kiếm\n  getSuggestions: keyword => api.get(`/v1/api/tim-kiem-goi-y?keyword=${encodeURIComponent(keyword)}`)\n};\nexport default {\n  homeApi,\n  movieApi,\n  listApi,\n  metadataApi,\n  suggestApi\n};","map":{"version":3,"names":["axios","BASE_URL","api","create","baseURL","timeout","headers","interceptors","response","use","error","console","Promise","reject","homeApi","getFeaturedMovies","get","getNewMovies","getSeriesMovies","getSingleMovies","getAnimationMovies","movieApi","getMovieDetail","slug","getEpisodeDetail","movieId","episodeId","listApi","getMoviesByType","type","params","url","page","limit","category","country","year","sort_field","sort_type","getMoviesByCategory","getMoviesByCountry","getMoviesByYear","searchMovies","getNewMoviesAdvanced","getSingleMoviesAdvanced","getSeriesMoviesAdvanced","getAnimationMoviesAdvanced","metadataApi","getCategories","getCountries","getYears","currentYear","Date","getFullYear","years","i","push","resolve","data","suggestApi","getSuggestions","keyword","encodeURIComponent"],"sources":["D:/Phim API/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://phimapi.com';\n\n// Tạo instance axios với cấu hình chung\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Xử lý lỗi chung\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('API Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// API cho trang chủ\nexport const homeApi = {\n  // Lấy phim mới cập nhật cho slider chính\n  getFeaturedMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v3?page=1'),\n  \n  // Lấy phim mới cập nhật\n  getNewMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v2?page=1'),\n  \n  // Lấy phim bộ\n  getSeriesMovies: () => api.get('/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  \n  // Lấy phim lẻ\n  getSingleMovies: () => api.get('/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  \n  // Lấy phim hoạt hình\n  getAnimationMovies: () => api.get('/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n};\n\n// API cho chi tiết phim\nexport const movieApi = {\n  // Lấy thông tin chi tiết phim\n  getMovieDetail: (slug) => api.get(`/phim/${slug}`),\n  \n  // Lấy thông tin tập phim\n  getEpisodeDetail: (movieId, episodeId) => api.get(`/xem-phim/${movieId}/${episodeId}`),\n};\n\n// API cho danh sách phim\nexport const listApi = {\n  // Lấy danh sách phim theo loại\n  getMoviesByType: (type, params) => {\n    if (type === 'phim-moi-cap-nhat' || type === 'phim-hay') {\n      // Thêm các tham số lọc vào URL nếu có\n      let url = `/danh-sach/phim-moi-cap-nhat-v2?page=${params.page || 1}`;\n      \n      if (params.limit) url += `&limit=${params.limit}`;\n      if (params.category) url += `&category=${params.category}`;\n      if (params.country) url += `&country=${params.country}`;\n      if (params.year) url += `&year=${params.year}`;\n      if (params.sort_field) url += `&sort_field=${params.sort_field}`;\n      if (params.sort_type) url += `&sort_type=${params.sort_type}`;\n      \n      return api.get(url);\n    } else {\n      return api.get(`/v1/api/danh-sach/${type}`, { params });\n    }\n  },\n  \n  // Lấy danh sách phim theo thể loại\n  getMoviesByCategory: (slug, params) => api.get(`/v1/api/the-loai/${slug}`, { params }),\n  \n  // Lấy danh sách phim theo quốc gia\n  getMoviesByCountry: (slug, params) => api.get(`/v1/api/quoc-gia/${slug}`, { params }),\n  \n  // Lấy danh sách phim theo năm\n  getMoviesByYear: (year, params) => api.get(`/v1/api/nam/${year}`, { params }),\n  \n  // Tìm kiếm phim\n  searchMovies: (params) => api.get('/v1/api/tim-kiem', { params }),\n  \n  // Lấy danh sách phim mới cập nhật với phân trang nâng cao\n  getNewMoviesAdvanced: (params = {}) => {\n    let url = `/danh-sach/phim-moi-cap-nhat-v2?page=${params.page || 1}`;\n    \n    if (params.limit) url += `&limit=${params.limit}`;\n    if (params.category) url += `&category=${params.category}`;\n    if (params.country) url += `&country=${params.country}`;\n    if (params.year) url += `&year=${params.year}`;\n    \n    return api.get(url);\n  },\n  \n  // Lấy danh sách phim lẻ với phân trang nâng cao\n  getSingleMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/phim-le', { params });\n  },\n  \n  // Lấy danh sách phim bộ với phân trang nâng cao\n  getSeriesMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/phim-bo', { params });\n  },\n  \n  // Lấy danh sách phim hoạt hình với phân trang nâng cao\n  getAnimationMoviesAdvanced: (params = {}) => {\n    return api.get('/v1/api/danh-sach/hoat-hinh', { params });\n  },\n};\n\n// API cho metadata\nexport const metadataApi = {\n  // Lấy danh sách thể loại\n  getCategories: () => api.get('/the-loai'),\n  \n  // Lấy danh sách quốc gia\n  getCountries: () => api.get('/quoc-gia'),\n  \n  // Lấy danh sách năm\n  getYears: () => {\n    // Tạo danh sách năm từ năm hiện tại trở về trước 20 năm\n    const currentYear = new Date().getFullYear();\n    const years = [];\n    for (let i = 0; i <= 20; i++) {\n      years.push(currentYear - i);\n    }\n    return Promise.resolve({ data: years });\n  },\n};\n\n// API cho tìm kiếm gợi ý\nexport const suggestApi = {\n  // Lấy gợi ý tìm kiếm\n  getSuggestions: (keyword) => api.get(`/v1/api/tim-kiem-goi-y?keyword=${encodeURIComponent(keyword)}`),\n};\n\nexport default {\n  homeApi,\n  movieApi,\n  listApi,\n  metadataApi,\n  suggestApi,\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}