{"ast":null,"code":"import React,{useState}from'react';import{Box,Typography,Button,Grid,Paper,Tabs,Tab,useTheme,useMediaQuery,Collapse,IconButton}from'@mui/material';import{ExpandMore,ExpandLess}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EpisodeSelector=_ref=>{let{episodes,currentEpisode,onEpisodeSelect}=_ref;const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const[expanded,setExpanded]=useState(true);const[currentServer,setCurrentServer]=useState(0);// Nhóm các tập theo server\nconst servers=episodes?Object.keys(episodes):[];// Xử lý khi không có tập nào\nif(!episodes||servers.length===0){return/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:3,borderRadius:2,mb:4},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",children:\"Kh\\xF4ng c\\xF3 t\\u1EADp phim n\\xE0o kh\\u1EA3 d\\u1EE5ng.\"})});}// Lấy danh sách tập của server hiện tại\nconst currentEpisodeList=episodes[servers[currentServer]]||[];const toggleExpanded=()=>{setExpanded(!expanded);};const handleServerChange=(event,newValue)=>{setCurrentServer(newValue);};return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:3,borderRadius:2,mb:4,backgroundColor:'background.paper'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h2\",sx:{fontWeight:'bold'},children:\"Danh s\\xE1ch t\\u1EADp phim\"}),/*#__PURE__*/_jsx(IconButton,{onClick:toggleExpanded,size:\"small\",children:expanded?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})})]}),/*#__PURE__*/_jsxs(Collapse,{in:expanded,children:[servers.length>1&&/*#__PURE__*/_jsx(Box,{sx:{borderBottom:1,borderColor:'divider',mb:2},children:/*#__PURE__*/_jsx(Tabs,{value:currentServer,onChange:handleServerChange,variant:\"scrollable\",scrollButtons:\"auto\",allowScrollButtonsMobile:true,\"aria-label\":\"server tabs\",children:servers.map((server,index)=>/*#__PURE__*/_jsx(Tab,{label:server,sx:{fontWeight:currentServer===index?'bold':'normal'}},index))})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:currentEpisodeList.map(episode=>{// Kiểm tra xem episode có phải là object hay string\nconst episodeId=typeof episode==='object'?episode.slug||episode.id:episode;const episodeName=typeof episode==='object'?episode.name||\"T\\u1EADp \".concat(episode.slug||episode.id):\"T\\u1EADp \".concat(episode);const isActive=currentEpisode===episodeId;return/*#__PURE__*/_jsx(Grid,{item:true,xs:4,sm:3,md:2,lg:1,children:/*#__PURE__*/_jsx(Button,{variant:isActive?'contained':'outlined',color:isActive?'primary':'inherit',onClick:()=>onEpisodeSelect(episodeId,servers[currentServer]),fullWidth:true,sx:{borderRadius:1,fontWeight:isActive?'bold':'normal',minHeight:36},children:episodeName})},episodeId);})})]})]});};export default EpisodeSelector;","map":{"version":3,"names":["React","useState","Box","Typography","Button","Grid","Paper","Tabs","Tab","useTheme","useMediaQuery","Collapse","IconButton","ExpandMore","ExpandLess","jsx","_jsx","jsxs","_jsxs","EpisodeSelector","_ref","episodes","currentEpisode","onEpisodeSelect","theme","isMobile","breakpoints","down","expanded","setExpanded","currentServer","setCurrentServer","servers","Object","keys","length","elevation","sx","p","borderRadius","mb","children","variant","align","currentEpisodeList","toggleExpanded","handleServerChange","event","newValue","backgroundColor","display","alignItems","justifyContent","component","fontWeight","onClick","size","in","borderBottom","borderColor","value","onChange","scrollButtons","allowScrollButtonsMobile","map","server","index","label","container","spacing","episode","episodeId","slug","id","episodeName","name","concat","isActive","item","xs","sm","md","lg","color","fullWidth","minHeight"],"sources":["D:/Phim API/src/components/EpisodeSelector.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Grid,\n  Paper,\n  Tabs,\n  Tab,\n  useTheme,\n  useMediaQuery,\n  Collapse,\n  IconButton,\n} from '@mui/material';\nimport { ExpandMore, ExpandLess } from '@mui/icons-material';\n\nconst EpisodeSelector = ({ episodes, currentEpisode, onEpisodeSelect }) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [expanded, setExpanded] = useState(true);\n  const [currentServer, setCurrentServer] = useState(0);\n\n  // Nhóm các tập theo server\n  const servers = episodes ? Object.keys(episodes) : [];\n\n  // Xử lý khi không có tập nào\n  if (!episodes || servers.length === 0) {\n    return (\n      <Paper elevation={3} sx={{ p: 3, borderRadius: 2, mb: 4 }}>\n        <Typography variant=\"body1\" align=\"center\">\n          Không có tập phim nào khả dụng.\n        </Typography>\n      </Paper>\n    );\n  }\n\n  // Lấy danh sách tập của server hiện tại\n  const currentEpisodeList = episodes[servers[currentServer]] || [];\n\n  const toggleExpanded = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleServerChange = (event, newValue) => {\n    setCurrentServer(newValue);\n  };\n\n  return (\n    <Paper\n      elevation={3}\n      sx={{\n        p: 3,\n        borderRadius: 2,\n        mb: 4,\n        backgroundColor: 'background.paper',\n      }}\n    >\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\n        <Typography variant=\"h6\" component=\"h2\" sx={{ fontWeight: 'bold' }}>\n          Danh sách tập phim\n        </Typography>\n        <IconButton onClick={toggleExpanded} size=\"small\">\n          {expanded ? <ExpandLess /> : <ExpandMore />}\n        </IconButton>\n      </Box>\n\n      <Collapse in={expanded}>\n        {servers.length > 1 && (\n          <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\n            <Tabs\n              value={currentServer}\n              onChange={handleServerChange}\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              allowScrollButtonsMobile\n              aria-label=\"server tabs\"\n            >\n              {servers.map((server, index) => (\n                <Tab\n                  key={index}\n                  label={server}\n                  sx={{\n                    fontWeight: currentServer === index ? 'bold' : 'normal',\n                  }}\n                />\n              ))}\n            </Tabs>\n          </Box>\n        )}\n\n        <Grid container spacing={1}>\n          {currentEpisodeList.map((episode) => {\n            // Kiểm tra xem episode có phải là object hay string\n            const episodeId = typeof episode === 'object' ? episode.slug || episode.id : episode;\n            const episodeName = typeof episode === 'object' ? episode.name || `Tập ${episode.slug || episode.id}` : `Tập ${episode}`;\n            const isActive = currentEpisode === episodeId;\n\n            return (\n              <Grid item xs={4} sm={3} md={2} lg={1} key={episodeId}>\n                <Button\n                  variant={isActive ? 'contained' : 'outlined'}\n                  color={isActive ? 'primary' : 'inherit'}\n                  onClick={() => onEpisodeSelect(episodeId, servers[currentServer])}\n                  fullWidth\n                  sx={{\n                    borderRadius: 1,\n                    fontWeight: isActive ? 'bold' : 'normal',\n                    minHeight: 36,\n                  }}\n                >\n                  {episodeName}\n                </Button>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </Collapse>\n    </Paper>\n  );\n};\n\nexport default EpisodeSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}