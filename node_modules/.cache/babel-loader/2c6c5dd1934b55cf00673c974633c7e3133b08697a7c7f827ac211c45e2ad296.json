{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Box}from'@mui/material';import axios from'axios';import HeroSlider from'../components/HeroSlider';import MovieSlider from'../components/MovieSlider';import LoadingIndicator from'../components/LoadingIndicator';import ErrorDisplay from'../components/ErrorDisplay';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[featuredMovies,setFeaturedMovies]=useState([]);const[newMovies,setNewMovies]=useState([]);const[seriesMovies,setSeriesMovies]=useState([]);const[singleMovies,setSingleMovies]=useState([]);const[animationMovies,setAnimationMovies]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{setLoading(true);setError(null);// Lấy phim mới cập nhật cho slider chính\nconst featuredResponse=await axios.get('https://phimapi.com/danh-sach/phim-moi-cap-nhat-v3?page=1');// Lấy phim mới cập nhật\nconst newMoviesResponse=await axios.get('https://phimapi.com/danh-sach/phim-moi-cap-nhat-v2?page=1');// Lấy phim bộ\nconst seriesResponse=await axios.get('https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12');// Lấy phim lẻ\nconst singleResponse=await axios.get('https://phimapi.com/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12');// Lấy phim hoạt hình\nconst animationResponse=await axios.get('https://phimapi.com/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12');// Cập nhật state với dữ liệu từ API\nif(featuredResponse.data&&featuredResponse.data.items){setFeaturedMovies(featuredResponse.data.items.slice(0,5));}if(newMoviesResponse.data&&newMoviesResponse.data.items){setNewMovies(newMoviesResponse.data.items);}if(seriesResponse.data&&seriesResponse.data.items){setSeriesMovies(seriesResponse.data.items);}if(singleResponse.data&&singleResponse.data.items){setSingleMovies(singleResponse.data.items);}if(animationResponse.data&&animationResponse.data.items){setAnimationMovies(animationResponse.data.items);}setLoading(false);}catch(err){console.error('Error fetching data:',err);setError('Đã xảy ra lỗi khi tải dữ liệu. Vui lòng thử lại sau.');setLoading(false);}};fetchData();},[]);if(loading){return/*#__PURE__*/_jsx(LoadingIndicator,{message:\"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u phim...\"});}if(error){return/*#__PURE__*/_jsx(ErrorDisplay,{message:error,onRetry:()=>window.location.reload()});}return/*#__PURE__*/_jsxs(Box,{sx:{pb:8},children:[/*#__PURE__*/_jsx(HeroSlider,{movies:featuredMovies}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",children:[/*#__PURE__*/_jsx(MovieSlider,{title:\"Phim m\\u1EDBi c\\u1EADp nh\\u1EADt\",movies:newMovies,viewMoreLink:\"/danh-sach/phim-moi-cap-nhat\"}),/*#__PURE__*/_jsx(MovieSlider,{title:\"Phim b\\u1ED9\",movies:seriesMovies,viewMoreLink:\"/danh-sach/phim-bo\"}),/*#__PURE__*/_jsx(MovieSlider,{title:\"Phim l\\u1EBB\",movies:singleMovies,viewMoreLink:\"/danh-sach/phim-le\"}),/*#__PURE__*/_jsx(MovieSlider,{title:\"Phim ho\\u1EA1t h\\xECnh\",movies:animationMovies,viewMoreLink:\"/danh-sach/hoat-hinh\"})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","axios","HeroSlider","MovieSlider","LoadingIndicator","ErrorDisplay","jsx","_jsx","jsxs","_jsxs","Home","featuredMovies","setFeaturedMovies","newMovies","setNewMovies","seriesMovies","setSeriesMovies","singleMovies","setSingleMovies","animationMovies","setAnimationMovies","loading","setLoading","error","setError","fetchData","featuredResponse","get","newMoviesResponse","seriesResponse","singleResponse","animationResponse","data","items","slice","err","console","message","onRetry","window","location","reload","sx","pb","children","movies","maxWidth","title","viewMoreLink"],"sources":["D:/Phim API/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box } from '@mui/material';\nimport axios from 'axios';\n\nimport HeroSlider from '../components/HeroSlider';\nimport MovieSlider from '../components/MovieSlider';\nimport LoadingIndicator from '../components/LoadingIndicator';\nimport ErrorDisplay from '../components/ErrorDisplay';\n\nconst Home = () => {\n  const [featuredMovies, setFeaturedMovies] = useState([]);\n  const [newMovies, setNewMovies] = useState([]);\n  const [seriesMovies, setSeriesMovies] = useState([]);\n  const [singleMovies, setSingleMovies] = useState([]);\n  const [animationMovies, setAnimationMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Lấy phim mới cập nhật cho slider chính\n        const featuredResponse = await axios.get('https://phimapi.com/danh-sach/phim-moi-cap-nhat-v3?page=1');\n        \n        // Lấy phim mới cập nhật\n        const newMoviesResponse = await axios.get('https://phimapi.com/danh-sach/phim-moi-cap-nhat-v2?page=1');\n        \n        // Lấy phim bộ\n        const seriesResponse = await axios.get(\n          'https://phimapi.com/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12'\n        );\n        \n        // Lấy phim lẻ\n        const singleResponse = await axios.get(\n          'https://phimapi.com/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12'\n        );\n        \n        // Lấy phim hoạt hình\n        const animationResponse = await axios.get(\n          'https://phimapi.com/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12'\n        );\n\n        // Cập nhật state với dữ liệu từ API\n        if (featuredResponse.data && featuredResponse.data.items) {\n          setFeaturedMovies(featuredResponse.data.items.slice(0, 5));\n        }\n\n        if (newMoviesResponse.data && newMoviesResponse.data.items) {\n          setNewMovies(newMoviesResponse.data.items);\n        }\n\n        if (seriesResponse.data && seriesResponse.data.items) {\n          setSeriesMovies(seriesResponse.data.items);\n        }\n\n        if (singleResponse.data && singleResponse.data.items) {\n          setSingleMovies(singleResponse.data.items);\n        }\n\n        if (animationResponse.data && animationResponse.data.items) {\n          setAnimationMovies(animationResponse.data.items);\n        }\n\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        setError('Đã xảy ra lỗi khi tải dữ liệu. Vui lòng thử lại sau.');\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return <LoadingIndicator message=\"Đang tải dữ liệu phim...\" />;\n  }\n\n  if (error) {\n    return <ErrorDisplay message={error} onRetry={() => window.location.reload()} />;\n  }\n\n  return (\n    <Box sx={{ pb: 8 }}>\n      {/* Hero Slider */}\n      <HeroSlider movies={featuredMovies} />\n\n      <Container maxWidth=\"xl\">\n        {/* Phim mới cập nhật */}\n        <MovieSlider\n          title=\"Phim mới cập nhật\"\n          movies={newMovies}\n          viewMoreLink=\"/danh-sach/phim-moi-cap-nhat\"\n        />\n\n        {/* Phim bộ */}\n        <MovieSlider\n          title=\"Phim bộ\"\n          movies={seriesMovies}\n          viewMoreLink=\"/danh-sach/phim-bo\"\n        />\n\n        {/* Phim lẻ */}\n        <MovieSlider\n          title=\"Phim lẻ\"\n          movies={singleMovies}\n          viewMoreLink=\"/danh-sach/phim-le\"\n        />\n\n        {/* Phim hoạt hình */}\n        <MovieSlider\n          title=\"Phim hoạt hình\"\n          movies={animationMovies}\n          viewMoreLink=\"/danh-sach/hoat-hinh\"\n        />\n      </Container>\n    </Box>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}