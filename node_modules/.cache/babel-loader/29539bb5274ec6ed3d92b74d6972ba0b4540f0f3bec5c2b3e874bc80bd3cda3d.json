{"ast":null,"code":"var _jsxFileName = \"D:\\\\Phim API\\\\src\\\\components\\\\VideoPlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Typography, IconButton, Slider, Paper, Grid } from '@mui/material';\nimport { PlayArrow, Pause, VolumeUp, VolumeOff, Fullscreen, SettingsOutlined as Settings, Forward10, Replay10 } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoPlayer = ({\n  src,\n  title\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const containerRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const controlsTimeoutRef = useRef(null);\n\n  // Kiểm tra xem src có phải là link_embed không\n  const isEmbedLink = src && (src.includes('iframe') || src.includes('embed') || src.includes('player.phimapi.com/player'));\n\n  // Kiểm tra xem src có phải là link m3u8 không\n  const isM3u8Link = src && src.includes('.m3u8');\n\n  // Xử lý HLS cho link m3u8\n  useEffect(() => {\n    if (!isM3u8Link || isEmbedLink) return;\n    const video = videoRef.current;\n    if (!video) return;\n\n    // Kiểm tra hỗ trợ HLS native\n    if (video.canPlayType('application/vnd.apple.mpegurl')) {\n      video.src = src;\n    } else {\n      // Sử dụng HLS.js cho các trình duyệt không hỗ trợ HLS native\n      import('hls.js').then(({\n        default: Hls\n      }) => {\n        if (Hls.isSupported()) {\n          const hls = new Hls();\n          hls.loadSource(src);\n          hls.attachMedia(video);\n          hls.on(Hls.Events.MANIFEST_PARSED, () => {\n            console.log('HLS manifest loaded');\n          });\n        } else {\n          console.error('HLS is not supported');\n        }\n      }).catch(err => {\n        console.error('Failed to load HLS.js:', err);\n        // Fallback: thử phát trực tiếp\n        video.src = src;\n      });\n    }\n  }, [src, isM3u8Link, isEmbedLink]);\n\n  // Xử lý khi video được tải\n  useEffect(() => {\n    // Nếu là link embed, không cần xử lý các sự kiện video\n    if (isEmbedLink) return;\n    const video = videoRef.current;\n    if (!video) return;\n    const handleLoadedMetadata = () => {\n      setDuration(video.duration);\n    };\n    const handleTimeUpdate = () => {\n      setCurrentTime(video.currentTime);\n    };\n    const handleEnded = () => {\n      setIsPlaying(false);\n    };\n    video.addEventListener('loadedmetadata', handleLoadedMetadata);\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('ended', handleEnded);\n    return () => {\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('ended', handleEnded);\n    };\n  }, [isEmbedLink]);\n\n  // Xử lý hiển thị/ẩn controls\n  useEffect(() => {\n    // Nếu là link embed, không cần xử lý hiển thị controls\n    if (isEmbedLink) return;\n    const handleMouseMove = () => {\n      setShowControls(true);\n      clearTimeout(controlsTimeoutRef.current);\n      controlsTimeoutRef.current = setTimeout(() => {\n        if (isPlaying) {\n          setShowControls(false);\n        }\n      }, 3000);\n    };\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener('mousemove', handleMouseMove);\n      container.addEventListener('mouseenter', handleMouseMove);\n      container.addEventListener('mouseleave', () => {\n        if (isPlaying) {\n          setShowControls(false);\n        }\n      });\n    }\n    return () => {\n      if (container) {\n        container.removeEventListener('mousemove', handleMouseMove);\n        container.removeEventListener('mouseenter', handleMouseMove);\n        container.removeEventListener('mouseleave', () => {});\n      }\n      clearTimeout(controlsTimeoutRef.current);\n    };\n  }, [isPlaying, isEmbedLink]);\n\n  // Xử lý phát/dừng video\n  const togglePlay = () => {\n    // Nếu là link embed, không thể điều khiển play/pause\n    if (isEmbedLink) return;\n    const video = videoRef.current;\n    if (!video) return;\n    if (isPlaying) {\n      video.pause();\n      setIsPlaying(false);\n    } else {\n      const playPromise = video.play();\n\n      // Modern browsers return a promise from play()\n      if (playPromise !== undefined) {\n        playPromise.then(() => {\n          // Playback started successfully\n          setIsPlaying(true);\n        }).catch(error => {\n          // Auto-play was prevented or another error occurred\n          console.log('Playback error:', error);\n          setIsPlaying(false);\n        });\n      } else {\n        // Older browsers don't return a promise\n        setIsPlaying(true);\n      }\n    }\n  };\n\n  // Xử lý thay đổi thời gian video\n  const handleTimeChange = (_, newValue) => {\n    const video = videoRef.current;\n    if (!video) return;\n    video.currentTime = newValue;\n    setCurrentTime(newValue);\n  };\n\n  // Xử lý thay đổi âm lượng\n  const handleVolumeChange = (_, newValue) => {\n    const video = videoRef.current;\n    if (!video) return;\n    video.volume = newValue;\n    setVolume(newValue);\n    setIsMuted(newValue === 0);\n  };\n\n  // Xử lý tắt/bật âm thanh\n  const toggleMute = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    const newMutedState = !isMuted;\n    video.muted = newMutedState;\n    setIsMuted(newMutedState);\n    if (newMutedState) {\n      video.volume = 0;\n      setVolume(0);\n    } else {\n      video.volume = volume > 0 ? volume : 0.5;\n      setVolume(volume > 0 ? volume : 0.5);\n    }\n  };\n\n  // Xử lý chế độ toàn màn hình\n  const toggleFullscreen = () => {\n    const container = containerRef.current;\n    if (!container) return;\n    if (!document.fullscreenElement) {\n      container.requestFullscreen().catch(err => {\n        console.error(`Error attempting to enable full-screen mode: ${err.message}`);\n      });\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  // Xử lý sự kiện fullscreen change\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n    };\n  }, []);\n\n  // Xử lý tua nhanh/lùi 10 giây\n  const handleForward = () => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    // Save the current playing state\n    const wasPlaying = !video.paused;\n\n    // If video is playing, pause it before changing time\n    if (wasPlaying) {\n      video.pause();\n    }\n\n    // Change the current time\n    video.currentTime = Math.min(video.currentTime + 10, video.duration);\n\n    // If video was playing, resume playback\n    if (wasPlaying) {\n      const playPromise = video.play();\n      if (playPromise !== undefined) {\n        playPromise.catch(error => {\n          console.log('Playback error after forward:', error);\n        });\n      }\n    }\n  };\n  const handleRewind = () => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    // Save the current playing state\n    const wasPlaying = !video.paused;\n\n    // If video is playing, pause it before changing time\n    if (wasPlaying) {\n      video.pause();\n    }\n\n    // Change the current time\n    video.currentTime = Math.max(video.currentTime - 10, 0);\n\n    // If video was playing, resume playback\n    if (wasPlaying) {\n      const playPromise = video.play();\n      if (playPromise !== undefined) {\n        playPromise.catch(error => {\n          console.log('Playback error after rewind:', error);\n        });\n      }\n    }\n  };\n\n  // Add the missing toggleSettings function\n  const toggleSettings = () => {\n    // For now, just log that settings was clicked\n    console.log('Settings clicked');\n    // You can implement actual settings functionality here later\n  };\n\n  // Format thời gian\n  const formatTime = timeInSeconds => {\n    const hours = Math.floor(timeInSeconds / 3600);\n    const minutes = Math.floor(timeInSeconds % 3600 / 60);\n    const seconds = Math.floor(timeInSeconds % 60);\n    if (hours > 0) {\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    }\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    ref: containerRef,\n    sx: {\n      position: 'relative',\n      width: '100%',\n      height: 0,\n      paddingBottom: '56.25%',\n      // 16:9 aspect ratio\n      backgroundColor: '#000',\n      borderRadius: 0,\n      // Bỏ bo góc trên mobile\n      overflow: 'hidden',\n      boxShadow: {\n        xs: 'none',\n        sm: '0 4px 10px rgba(0,0,0,0.2)'\n      },\n      '&:fullscreen': {\n        borderRadius: 0,\n        boxShadow: 'none'\n      },\n      '&:hover': {\n        '& .video-controls': {\n          opacity: 1\n        }\n      }\n    },\n    className: isFullscreen ? 'fullscreen' : '',\n    children: [isEmbedLink ?\n    /*#__PURE__*/\n    // Render iframe for embed links\n    _jsxDEV(\"iframe\", {\n      src: src,\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        border: 'none'\n      },\n      allowFullScreen: true,\n      title: title || 'Video Player'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // Render video element for regular links\n    _jsxDEV(\"video\", {\n      ref: videoRef,\n      src: src,\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain'\n      },\n      onClick: togglePlay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this), title && showControls && !isEmbedLink && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        padding: {\n          xs: 0.5,\n          sm: 2\n        },\n        background: 'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)',\n        color: 'white',\n        transition: 'opacity 0.3s',\n        opacity: showControls ? 1 : 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          fontSize: {\n            xs: '0.8rem',\n            sm: '1.25rem'\n          }\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }, this), !isEmbedLink && /*#__PURE__*/_jsxDEV(Box, {\n      className: \"video-controls\",\n      sx: {\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        padding: {\n          xs: 0.3,\n          sm: 2\n        },\n        paddingTop: {\n          xs: 1,\n          sm: 4\n        },\n        background: 'linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0) 100%)',\n        color: 'white',\n        transition: 'opacity 0.3s',\n        opacity: showControls ? 1 : 0,\n        display: 'flex',\n        flexDirection: 'column',\n        zIndex: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(Slider, {\n        value: currentTime,\n        max: duration || 100,\n        onChange: handleTimeChange,\n        sx: {\n          color: 'primary.main',\n          height: {\n            xs: 2,\n            sm: 4\n          },\n          mb: {\n            xs: 0.3,\n            sm: 1\n          },\n          padding: {\n            xs: '1px 0',\n            sm: '4px 0'\n          },\n          '& .MuiSlider-thumb': {\n            width: {\n              xs: 6,\n              sm: 12\n            },\n            height: {\n              xs: 6,\n              sm: 12\n            },\n            transition: '0.3s cubic-bezier(.47,1.64,.41,.8)',\n            '&:hover, &.Mui-focusVisible': {\n              boxShadow: '0px 0px 0px 8px rgba(25, 118, 210, 0.16)'\n            },\n            '&.Mui-active': {\n              width: {\n                xs: 10,\n                sm: 16\n              },\n              height: {\n                xs: 10,\n                sm: 16\n              }\n            }\n          },\n          '& .MuiSlider-rail': {\n            opacity: 0.28\n          },\n          '& .MuiSlider-track': {\n            height: {\n              xs: 2,\n              sm: 4\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: {\n          xs: 0.2,\n          sm: 2\n        },\n        alignItems: \"center\",\n        sx: {\n          flexWrap: {\n            xs: 'wrap',\n            sm: 'nowrap'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 5,\n          sm: \"auto\",\n          sx: {\n            display: 'flex',\n            justifyContent: {\n              xs: 'flex-start',\n              sm: 'flex-start'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: togglePlay,\n            size: \"small\",\n            sx: {\n              p: {\n                xs: 0.2,\n                sm: 1\n              }\n            },\n            children: isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 30\n            }, this) : /*#__PURE__*/_jsxDEV(PlayArrow, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleRewind,\n            size: \"small\",\n            sx: {\n              p: {\n                xs: 0.2,\n                sm: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Replay10, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleForward,\n            size: \"small\",\n            sx: {\n              p: {\n                xs: 0.2,\n                sm: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Forward10, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 2,\n          sm: \"auto\",\n          order: {\n            xs: 3,\n            sm: 2\n          },\n          sx: {\n            textAlign: {\n              xs: 'center',\n              sm: 'left'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontSize: {\n                xs: '0.6rem',\n                sm: '0.875rem'\n              }\n            },\n            children: [formatTime(currentTime), \" / \", formatTime(duration)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: true,\n          order: {\n            xs: 2,\n            sm: 3\n          },\n          sx: {\n            mt: {\n              xs: 0.3,\n              sm: 0\n            },\n            display: {\n              xs: 'none',\n              sm: 'block'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: {\n                xs: 'center',\n                sm: 'flex-start'\n              },\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: toggleMute,\n              size: \"small\",\n              sx: {\n                p: {\n                  xs: 0.2,\n                  sm: 1\n                }\n              },\n              children: isMuted ? /*#__PURE__*/_jsxDEV(VolumeOff, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(VolumeUp, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 63\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: volume,\n              onChange: handleVolumeChange,\n              min: 0,\n              max: 1,\n              step: 0.01,\n              sx: {\n                width: {\n                  xs: '70%',\n                  sm: 100\n                },\n                ml: 1,\n                height: {\n                  xs: 2,\n                  sm: 4\n                },\n                padding: {\n                  xs: '2px 0',\n                  sm: '4px 0'\n                },\n                '& .MuiSlider-thumb': {\n                  width: {\n                    xs: 8,\n                    sm: 12\n                  },\n                  height: {\n                    xs: 8,\n                    sm: 12\n                  }\n                }\n              },\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 5,\n          sm: \"auto\",\n          order: {\n            xs: 4,\n            sm: 4\n          },\n          sx: {\n            display: 'flex',\n            justifyContent: {\n              xs: 'flex-end',\n              sm: 'flex-end'\n            },\n            mt: {\n              xs: 0,\n              sm: 0\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: toggleSettings,\n            size: \"small\",\n            sx: {\n              p: {\n                xs: 0.2,\n                sm: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Settings, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: toggleFullscreen,\n            size: \"small\",\n            sx: {\n              p: {\n                xs: 0.2,\n                sm: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Fullscreen, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this), !isPlaying && !isEmbedLink && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        borderRadius: '50%',\n        width: {\n          xs: 40,\n          sm: 80\n        },\n        height: {\n          xs: 40,\n          sm: 80\n        },\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        zIndex: 5,\n        boxShadow: '0 0 15px rgba(0,0,0,0.7)'\n      },\n      onClick: togglePlay,\n      children: /*#__PURE__*/_jsxDEV(PlayArrow, {\n        sx: {\n          fontSize: {\n            xs: 24,\n            sm: 50\n          },\n          color: 'white'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoPlayer, \"04crwRcBe5LQKOu76bTjFKiMKe4=\");\n_c = VideoPlayer;\nexport default VideoPlayer;\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","IconButton","Slider","Paper","Grid","PlayArrow","Pause","VolumeUp","VolumeOff","Fullscreen","SettingsOutlined","Settings","Forward10","Replay10","jsxDEV","_jsxDEV","VideoPlayer","src","title","_s","videoRef","containerRef","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","isMuted","setIsMuted","showControls","setShowControls","isFullscreen","setIsFullscreen","controlsTimeoutRef","isEmbedLink","includes","isM3u8Link","video","current","canPlayType","then","default","Hls","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","console","log","error","catch","err","handleLoadedMetadata","handleTimeUpdate","handleEnded","addEventListener","removeEventListener","handleMouseMove","clearTimeout","setTimeout","container","togglePlay","pause","playPromise","play","undefined","handleTimeChange","_","newValue","handleVolumeChange","toggleMute","newMutedState","muted","toggleFullscreen","document","fullscreenElement","requestFullscreen","message","exitFullscreen","handleFullscreenChange","handleForward","wasPlaying","paused","Math","min","handleRewind","max","toggleSettings","formatTime","timeInSeconds","hours","floor","minutes","seconds","toString","padStart","ref","sx","position","width","height","paddingBottom","backgroundColor","borderRadius","overflow","boxShadow","xs","sm","opacity","className","children","style","top","left","border","allowFullScreen","fileName","_jsxFileName","lineNumber","columnNumber","objectFit","onClick","right","padding","background","color","transition","variant","fontSize","bottom","paddingTop","display","flexDirection","zIndex","value","onChange","mb","spacing","alignItems","flexWrap","item","justifyContent","size","p","order","textAlign","mt","step","ml","transform","cursor","_c","$RefreshReg$"],"sources":["D:/Phim API/src/components/VideoPlayer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Box, Typography, IconButton, Slider, Paper, Grid } from '@mui/material';\nimport {\n  PlayArrow,\n  Pause,\n  VolumeUp,\n  VolumeOff,\n  Fullscreen,\n  SettingsOutlined as Settings,\n  Forward10,\n  Replay10,\n} from '@mui/icons-material';\n\nconst VideoPlayer = ({ src, title }) => {\n  const videoRef = useRef(null);\n  const containerRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const controlsTimeoutRef = useRef(null);\n  \n  // Kiểm tra xem src có phải là link_embed không\n  const isEmbedLink = src && (src.includes('iframe') || src.includes('embed') || src.includes('player.phimapi.com/player'));\n  \n  // Kiểm tra xem src có phải là link m3u8 không\n  const isM3u8Link = src && src.includes('.m3u8');\n\n  // Xử lý HLS cho link m3u8\n  useEffect(() => {\n    if (!isM3u8Link || isEmbedLink) return;\n    \n    const video = videoRef.current;\n    if (!video) return;\n\n    // Kiểm tra hỗ trợ HLS native\n    if (video.canPlayType('application/vnd.apple.mpegurl')) {\n      video.src = src;\n    } else {\n      // Sử dụng HLS.js cho các trình duyệt không hỗ trợ HLS native\n      import('hls.js').then(({ default: Hls }) => {\n        if (Hls.isSupported()) {\n          const hls = new Hls();\n          hls.loadSource(src);\n          hls.attachMedia(video);\n          hls.on(Hls.Events.MANIFEST_PARSED, () => {\n            console.log('HLS manifest loaded');\n          });\n        } else {\n          console.error('HLS is not supported');\n        }\n      }).catch(err => {\n        console.error('Failed to load HLS.js:', err);\n        // Fallback: thử phát trực tiếp\n        video.src = src;\n      });\n    }\n  }, [src, isM3u8Link, isEmbedLink]);\n\n  // Xử lý khi video được tải\n  useEffect(() => {\n    // Nếu là link embed, không cần xử lý các sự kiện video\n    if (isEmbedLink) return;\n    \n    const video = videoRef.current;\n    if (!video) return;\n\n    const handleLoadedMetadata = () => {\n      setDuration(video.duration);\n    };\n\n    const handleTimeUpdate = () => {\n      setCurrentTime(video.currentTime);\n    };\n\n    const handleEnded = () => {\n      setIsPlaying(false);\n    };\n\n    video.addEventListener('loadedmetadata', handleLoadedMetadata);\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('ended', handleEnded);\n\n    return () => {\n      video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('ended', handleEnded);\n    };\n  }, [isEmbedLink]);\n\n  // Xử lý hiển thị/ẩn controls\n  useEffect(() => {\n    // Nếu là link embed, không cần xử lý hiển thị controls\n    if (isEmbedLink) return;\n    \n    const handleMouseMove = () => {\n      setShowControls(true);\n      clearTimeout(controlsTimeoutRef.current);\n      controlsTimeoutRef.current = setTimeout(() => {\n        if (isPlaying) {\n          setShowControls(false);\n        }\n      }, 3000);\n    };\n\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener('mousemove', handleMouseMove);\n      container.addEventListener('mouseenter', handleMouseMove);\n      container.addEventListener('mouseleave', () => {\n        if (isPlaying) {\n          setShowControls(false);\n        }\n      });\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener('mousemove', handleMouseMove);\n        container.removeEventListener('mouseenter', handleMouseMove);\n        container.removeEventListener('mouseleave', () => {});\n      }\n      clearTimeout(controlsTimeoutRef.current);\n    };\n  }, [isPlaying, isEmbedLink]);\n\n  // Xử lý phát/dừng video\n  const togglePlay = () => {\n    // Nếu là link embed, không thể điều khiển play/pause\n    if (isEmbedLink) return;\n    \n    const video = videoRef.current;\n    if (!video) return;\n\n    if (isPlaying) {\n      video.pause();\n      setIsPlaying(false);\n    } else {\n      const playPromise = video.play();\n      \n      // Modern browsers return a promise from play()\n      if (playPromise !== undefined) {\n        playPromise\n          .then(() => {\n            // Playback started successfully\n            setIsPlaying(true);\n          })\n          .catch(error => {\n            // Auto-play was prevented or another error occurred\n            console.log('Playback error:', error);\n            setIsPlaying(false);\n          });\n      } else {\n        // Older browsers don't return a promise\n        setIsPlaying(true);\n      }\n    }\n  };\n\n  // Xử lý thay đổi thời gian video\n  const handleTimeChange = (_, newValue) => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    video.currentTime = newValue;\n    setCurrentTime(newValue);\n  };\n\n  // Xử lý thay đổi âm lượng\n  const handleVolumeChange = (_, newValue) => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    video.volume = newValue;\n    setVolume(newValue);\n    setIsMuted(newValue === 0);\n  };\n\n  // Xử lý tắt/bật âm thanh\n  const toggleMute = () => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const newMutedState = !isMuted;\n    video.muted = newMutedState;\n    setIsMuted(newMutedState);\n    if (newMutedState) {\n      video.volume = 0;\n      setVolume(0);\n    } else {\n      video.volume = volume > 0 ? volume : 0.5;\n      setVolume(volume > 0 ? volume : 0.5);\n    }\n  };\n\n  // Xử lý chế độ toàn màn hình\n  const toggleFullscreen = () => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    if (!document.fullscreenElement) {\n      container.requestFullscreen().catch((err) => {\n        console.error(`Error attempting to enable full-screen mode: ${err.message}`);\n      });\n    } else {\n      document.exitFullscreen();\n    }\n  };\n\n  // Xử lý sự kiện fullscreen change\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      setIsFullscreen(!!document.fullscreenElement);\n    };\n\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n    };\n  }, []);\n\n  // Xử lý tua nhanh/lùi 10 giây\n  const handleForward = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    // Save the current playing state\n    const wasPlaying = !video.paused;\n    \n    // If video is playing, pause it before changing time\n    if (wasPlaying) {\n      video.pause();\n    }\n    \n    // Change the current time\n    video.currentTime = Math.min(video.currentTime + 10, video.duration);\n    \n    // If video was playing, resume playback\n    if (wasPlaying) {\n      const playPromise = video.play();\n      \n      if (playPromise !== undefined) {\n        playPromise.catch(error => {\n          console.log('Playback error after forward:', error);\n        });\n      }\n    }\n  };\n\n  const handleRewind = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    // Save the current playing state\n    const wasPlaying = !video.paused;\n    \n    // If video is playing, pause it before changing time\n    if (wasPlaying) {\n      video.pause();\n    }\n    \n    // Change the current time\n    video.currentTime = Math.max(video.currentTime - 10, 0);\n    \n    // If video was playing, resume playback\n    if (wasPlaying) {\n      const playPromise = video.play();\n      \n      if (playPromise !== undefined) {\n        playPromise.catch(error => {\n          console.log('Playback error after rewind:', error);\n        });\n      }\n    }\n  };\n\n  // Add the missing toggleSettings function\n  const toggleSettings = () => {\n    // For now, just log that settings was clicked\n    console.log('Settings clicked');\n    // You can implement actual settings functionality here later\n  };\n\n  // Format thời gian\n  const formatTime = (timeInSeconds) => {\n    const hours = Math.floor(timeInSeconds / 3600);\n    const minutes = Math.floor((timeInSeconds % 3600) / 60);\n    const seconds = Math.floor(timeInSeconds % 60);\n\n    if (hours > 0) {\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    }\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <Box\n      ref={containerRef}\n      sx={{\n        position: 'relative',\n        width: '100%',\n        height: 0,\n        paddingBottom: '56.25%', // 16:9 aspect ratio\n        backgroundColor: '#000',\n        borderRadius: 0, // Bỏ bo góc trên mobile\n        overflow: 'hidden',\n        boxShadow: { xs: 'none', sm: '0 4px 10px rgba(0,0,0,0.2)' },\n        '&:fullscreen': {\n          borderRadius: 0,\n          boxShadow: 'none',\n        },\n        '&:hover': {\n          '& .video-controls': {\n            opacity: 1,\n          },\n        },\n      }}\n      className={isFullscreen ? 'fullscreen' : ''}\n    >\n      {isEmbedLink ? (\n        // Render iframe for embed links\n        <iframe\n          src={src}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            border: 'none',\n          }}\n          allowFullScreen\n          title={title || 'Video Player'}\n        />\n      ) : (\n        // Render video element for regular links\n        <video\n          ref={videoRef}\n          src={src}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            objectFit: 'contain',\n          }}\n          onClick={togglePlay}\n        />\n      )}\n\n      {/* Video Title - Only show for regular videos */}\n      {title && showControls && !isEmbedLink && (\n        <Box\n          sx={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            padding: { xs: 0.5, sm: 2 },\n            background: 'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)',\n            color: 'white',\n            transition: 'opacity 0.3s',\n            opacity: showControls ? 1 : 0,\n          }}\n        >\n          <Typography variant=\"h6\" sx={{ fontSize: { xs: '0.8rem', sm: '1.25rem' } }}>{title}</Typography>\n        </Box>\n      )}\n\n      {/* Video Controls - Only show for regular videos */}\n      {!isEmbedLink && (\n        <Box\n          className=\"video-controls\"\n          sx={{\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: { xs: 0.3, sm: 2 },\n            paddingTop: { xs: 1, sm: 4 },\n            background: 'linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0) 100%)',\n            color: 'white',\n            transition: 'opacity 0.3s',\n            opacity: showControls ? 1 : 0,\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 10,\n          }}\n        >\n          {/* Progress Bar */}\n          <Slider\n            value={currentTime}\n            max={duration || 100}\n            onChange={handleTimeChange}\n            sx={{\n              color: 'primary.main',\n              height: { xs: 2, sm: 4 },\n              mb: { xs: 0.3, sm: 1 },\n              padding: { xs: '1px 0', sm: '4px 0' },\n              '& .MuiSlider-thumb': {\n                width: { xs: 6, sm: 12 },\n                height: { xs: 6, sm: 12 },\n                transition: '0.3s cubic-bezier(.47,1.64,.41,.8)',\n                '&:hover, &.Mui-focusVisible': {\n                  boxShadow: '0px 0px 0px 8px rgba(25, 118, 210, 0.16)',\n                },\n                '&.Mui-active': {\n                  width: { xs: 10, sm: 16 },\n                  height: { xs: 10, sm: 16 },\n                },\n              },\n              '& .MuiSlider-rail': {\n                opacity: 0.28,\n              },\n              '& .MuiSlider-track': {\n                height: { xs: 2, sm: 4 },\n              },\n            }}\n          />\n\n          {/* Controls */}\n          <Grid container spacing={{ xs: 0.2, sm: 2 }} alignItems=\"center\" sx={{ flexWrap: { xs: 'wrap', sm: 'nowrap' } }}>\n            {/* Left Controls */}\n            <Grid item xs={5} sm=\"auto\" sx={{ display: 'flex', justifyContent: { xs: 'flex-start', sm: 'flex-start' } }}>\n              <IconButton onClick={togglePlay} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                {isPlaying ? <Pause fontSize=\"small\" /> : <PlayArrow fontSize=\"small\" />}\n              </IconButton>\n              <IconButton onClick={handleRewind} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                <Replay10 fontSize=\"small\" />\n              </IconButton>\n              <IconButton onClick={handleForward} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                <Forward10 fontSize=\"small\" />\n              </IconButton>\n            </Grid>\n\n            {/* Time Display - Above volume on mobile, center on desktop */}\n            <Grid item xs={2} sm=\"auto\" order={{ xs: 3, sm: 2 }} sx={{ textAlign: { xs: 'center', sm: 'left' } }}>\n              <Typography variant=\"body2\" sx={{ fontSize: { xs: '0.6rem', sm: '0.875rem' } }}>\n                {formatTime(currentTime)} / {formatTime(duration)}\n              </Typography>\n            </Grid>\n\n            {/* Volume Control - Full width on mobile */}\n            <Grid item xs={12} sm order={{ xs: 2, sm: 3 }} sx={{ mt: { xs: 0.3, sm: 0 }, display: { xs: 'none', sm: 'block' } }}>\n              <Box sx={{ \n                display: 'flex', \n                alignItems: 'center',\n                justifyContent: { xs: 'center', sm: 'flex-start' },\n                width: '100%'\n              }}>\n                <IconButton onClick={toggleMute} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                  {isMuted ? <VolumeOff fontSize=\"small\" /> : <VolumeUp fontSize=\"small\" />}\n                </IconButton>\n                <Slider\n                  value={volume}\n                  onChange={handleVolumeChange}\n                  min={0}\n                  max={1}\n                  step={0.01}\n                  sx={{ \n                    width: { xs: '70%', sm: 100 }, \n                    ml: 1,\n                    height: { xs: 2, sm: 4 },\n                    padding: { xs: '2px 0', sm: '4px 0' },\n                    '& .MuiSlider-thumb': {\n                      width: { xs: 8, sm: 12 },\n                      height: { xs: 8, sm: 12 },\n                    }\n                  }}\n                  size=\"small\"\n                />\n              </Box>\n            </Grid>\n\n            {/* Right Controls - Centered on mobile */}\n            <Grid item xs={5} sm=\"auto\" order={{ xs: 4, sm: 4 }} sx={{ \n              display: 'flex', \n              justifyContent: { xs: 'flex-end', sm: 'flex-end' },\n              mt: { xs: 0, sm: 0 }\n            }}>\n              <IconButton onClick={toggleSettings} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                <Settings fontSize=\"small\" />\n              </IconButton>\n              <IconButton onClick={toggleFullscreen} size=\"small\" sx={{ p: { xs: 0.2, sm: 1 } }}>\n                <Fullscreen fontSize=\"small\" />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Box>\n      )}\n\n      {/* Play/Pause Overlay - Only show for regular videos */}\n      {!isPlaying && !isEmbedLink && (\n        <Box\n          sx={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            borderRadius: '50%',\n            width: { xs: 40, sm: 80 },\n            height: { xs: 40, sm: 80 },\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer',\n            zIndex: 5,\n            boxShadow: '0 0 15px rgba(0,0,0,0.7)',\n          }}\n          onClick={togglePlay}\n        >\n          <PlayArrow sx={{ fontSize: { xs: 24, sm: 50 }, color: 'white' }} />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default VideoPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}