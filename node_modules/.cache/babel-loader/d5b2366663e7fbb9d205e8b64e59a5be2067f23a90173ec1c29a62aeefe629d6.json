{"ast":null,"code":"import axios from'axios';const BASE_URL='https://phimapi.com';// Tạo instance axios với cấu hình chung\nconst api=axios.create({baseURL:BASE_URL,timeout:10000,headers:{'Content-Type':'application/json'}});// Xử lý lỗi chung\napi.interceptors.response.use(response=>response,error=>{console.error('API Error:',error);return Promise.reject(error);});// API cho trang chủ\nexport const homeApi={// Lấy phim mới cập nhật cho slider chính\ngetFeaturedMovies:()=>api.get('/danh-sach/phim-moi-cap-nhat-v3?page=1'),// Lấy phim mới cập nhật\ngetNewMovies:()=>api.get('/danh-sach/phim-moi-cap-nhat-v2?page=1'),// Lấy phim bộ\ngetSeriesMovies:()=>api.get('/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12'),// Lấy phim lẻ\ngetSingleMovies:()=>api.get('/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12'),// Lấy phim hoạt hình\ngetAnimationMovies:()=>api.get('/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12')};// API cho chi tiết phim\nexport const movieApi={// Lấy thông tin chi tiết phim\ngetMovieDetail:slug=>api.get(\"/phim/\".concat(slug)),// Lấy thông tin tập phim\ngetEpisodeDetail:(movieId,episodeId)=>api.get(\"/xem-phim/\".concat(movieId,\"/\").concat(episodeId))};// API cho danh sách phim\nexport const listApi={// Lấy danh sách phim theo loại\ngetMoviesByType:(type,params)=>{if(type==='phim-moi-cap-nhat'){return api.get(\"/danh-sach/phim-moi-cap-nhat-v2?page=\".concat(params.page||1));}else{return api.get(\"/v1/api/danh-sach/\".concat(type),{params});}},// Lấy danh sách phim theo thể loại\ngetMoviesByCategory:(slug,params)=>api.get(\"/v1/api/the-loai/\".concat(slug),{params}),// Lấy danh sách phim theo quốc gia\ngetMoviesByCountry:(slug,params)=>api.get(\"/v1/api/quoc-gia/\".concat(slug),{params}),// Lấy danh sách phim theo năm\ngetMoviesByYear:(year,params)=>api.get(\"/v1/api/nam/\".concat(year),{params}),// Tìm kiếm phim\nsearchMovies:params=>api.get('/v1/api/tim-kiem',{params})};// API cho metadata\nexport const metadataApi={// Lấy danh sách thể loại\ngetCategories:()=>api.get('/the-loai'),// Lấy danh sách quốc gia\ngetCountries:()=>api.get('/quoc-gia'),// Lấy danh sách năm\ngetYears:()=>{// Tạo danh sách năm từ năm hiện tại trở về trước 20 năm\nconst currentYear=new Date().getFullYear();const years=[];for(let i=0;i<=20;i++){years.push(currentYear-i);}return Promise.resolve({data:years});}};// API cho tìm kiếm gợi ý\nexport const suggestApi={// Lấy gợi ý tìm kiếm\ngetSuggestions:keyword=>api.get(\"/v1/api/tim-kiem-goi-y?keyword=\".concat(encodeURIComponent(keyword)))};export default{homeApi,movieApi,listApi,metadataApi,suggestApi};","map":{"version":3,"names":["axios","BASE_URL","api","create","baseURL","timeout","headers","interceptors","response","use","error","console","Promise","reject","homeApi","getFeaturedMovies","get","getNewMovies","getSeriesMovies","getSingleMovies","getAnimationMovies","movieApi","getMovieDetail","slug","concat","getEpisodeDetail","movieId","episodeId","listApi","getMoviesByType","type","params","page","getMoviesByCategory","getMoviesByCountry","getMoviesByYear","year","searchMovies","metadataApi","getCategories","getCountries","getYears","currentYear","Date","getFullYear","years","i","push","resolve","data","suggestApi","getSuggestions","keyword","encodeURIComponent"],"sources":["D:/Phim API/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://phimapi.com';\n\n// Tạo instance axios với cấu hình chung\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Xử lý lỗi chung\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error('API Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// API cho trang chủ\nexport const homeApi = {\n  // Lấy phim mới cập nhật cho slider chính\n  getFeaturedMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v3?page=1'),\n  \n  // Lấy phim mới cập nhật\n  getNewMovies: () => api.get('/danh-sach/phim-moi-cap-nhat-v2?page=1'),\n  \n  // Lấy phim bộ\n  getSeriesMovies: () => api.get('/v1/api/danh-sach/phim-bo?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  \n  // Lấy phim lẻ\n  getSingleMovies: () => api.get('/v1/api/danh-sach/phim-le?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n  \n  // Lấy phim hoạt hình\n  getAnimationMovies: () => api.get('/v1/api/danh-sach/hoat-hinh?page=1&sort_field=modified.time&sort_type=desc&limit=12'),\n};\n\n// API cho chi tiết phim\nexport const movieApi = {\n  // Lấy thông tin chi tiết phim\n  getMovieDetail: (slug) => api.get(`/phim/${slug}`),\n  \n  // Lấy thông tin tập phim\n  getEpisodeDetail: (movieId, episodeId) => api.get(`/xem-phim/${movieId}/${episodeId}`),\n};\n\n// API cho danh sách phim\nexport const listApi = {\n  // Lấy danh sách phim theo loại\n  getMoviesByType: (type, params) => {\n    if (type === 'phim-moi-cap-nhat') {\n      return api.get(`/danh-sach/phim-moi-cap-nhat-v2?page=${params.page || 1}`);\n    } else {\n      return api.get(`/v1/api/danh-sach/${type}`, { params });\n    }\n  },\n  \n  // Lấy danh sách phim theo thể loại\n  getMoviesByCategory: (slug, params) => api.get(`/v1/api/the-loai/${slug}`, { params }),\n  \n  // Lấy danh sách phim theo quốc gia\n  getMoviesByCountry: (slug, params) => api.get(`/v1/api/quoc-gia/${slug}`, { params }),\n  \n  // Lấy danh sách phim theo năm\n  getMoviesByYear: (year, params) => api.get(`/v1/api/nam/${year}`, { params }),\n  \n  // Tìm kiếm phim\n  searchMovies: (params) => api.get('/v1/api/tim-kiem', { params }),\n};\n\n// API cho metadata\nexport const metadataApi = {\n  // Lấy danh sách thể loại\n  getCategories: () => api.get('/the-loai'),\n  \n  // Lấy danh sách quốc gia\n  getCountries: () => api.get('/quoc-gia'),\n  \n  // Lấy danh sách năm\n  getYears: () => {\n    // Tạo danh sách năm từ năm hiện tại trở về trước 20 năm\n    const currentYear = new Date().getFullYear();\n    const years = [];\n    for (let i = 0; i <= 20; i++) {\n      years.push(currentYear - i);\n    }\n    return Promise.resolve({ data: years });\n  },\n};\n\n// API cho tìm kiếm gợi ý\nexport const suggestApi = {\n  // Lấy gợi ý tìm kiếm\n  getSuggestions: (keyword) => api.get(`/v1/api/tim-kiem-goi-y?keyword=${encodeURIComponent(keyword)}`),\n};\n\nexport default {\n  homeApi,\n  movieApi,\n  listApi,\n  metadataApi,\n  suggestApi,\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}