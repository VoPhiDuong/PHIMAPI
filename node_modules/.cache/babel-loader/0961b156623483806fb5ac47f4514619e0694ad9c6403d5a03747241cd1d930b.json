{"ast":null,"code":"/**\n * Định dạng thời lượng phim từ phút sang định dạng giờ:phút\n * @param {number} minutes - Thời lượng phim tính bằng phút\n * @returns {string} - Thời lượng định dạng giờ:phút\n */export const formatDuration=minutes=>{if(!minutes||isNaN(minutes))return'N/A';const hours=Math.floor(minutes/60);const mins=minutes%60;if(hours===0){return\"\".concat(mins,\" ph\\xFAt\");}return\"\".concat(hours,\" gi\\u1EDD \").concat(mins>0?\"\".concat(mins,\" ph\\xFAt\"):'');};/**\n * Định dạng số lượt xem\n * @param {number} views - Số lượt xem\n * @returns {string} - Số lượt xem đã định dạng\n */export const formatViews=views=>{if(!views||isNaN(views))return'0';if(views>=1000000){return\"\".concat((views/1000000).toFixed(1),\"M\");}if(views>=1000){return\"\".concat((views/1000).toFixed(1),\"K\");}return views.toString();};/**\n * Định dạng điểm đánh giá\n * @param {number} rating - Điểm đánh giá\n * @returns {string} - Điểm đánh giá đã định dạng\n */export const formatRating=rating=>{if(!rating||isNaN(rating))return'N/A';return rating.toFixed(1);};/**\n * Tạo URL an toàn cho hình ảnh\n * @param {string} url - URL hình ảnh\n * @param {string} fallback - URL dự phòng khi URL chính không hợp lệ\n * @returns {string} - URL hình ảnh an toàn\n */export const getSafeImageUrl=function(url){let fallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';if(!url)return fallback;// Kiểm tra URL có hợp lệ không\ntry{new URL(url);return url;}catch(e){return fallback;}};/**\n * Tạo slug từ chuỗi\n * @param {string} text - Chuỗi cần tạo slug\n * @returns {string} - Slug đã tạo\n */export const createSlug=text=>{if(!text)return'';// Chuyển về chữ thường và thay thế các ký tự đặc biệt\nreturn text.toLowerCase().trim().replace(/[áàảãạâấầẩẫậăắằẳẵặ]/g,'a').replace(/[éèẻẽẹêếềểễệ]/g,'e').replace(/[íìỉĩị]/g,'i').replace(/[óòỏõọôốồổỗộơớờởỡợ]/g,'o').replace(/[úùủũụưứừửữự]/g,'u').replace(/[ýỳỷỹỵ]/g,'y').replace(/đ/g,'d').replace(/\\s+/g,'-').replace(/[^\\w\\-]+/g,'').replace(/\\-\\-+/g,'-').replace(/^-+/,'').replace(/-+$/,'');};/**\n * Tạo mảng các năm từ năm hiện tại đến năm quá khứ\n * @param {number} count - Số năm cần tạo\n * @returns {Array} - Mảng các năm\n */export const generateYears=function(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:20;const currentYear=new Date().getFullYear();const years=[];for(let i=0;i<=count;i++){years.push(currentYear-i);}return years;};/**\n * Trì hoãn thực thi hàm (debounce)\n * @param {Function} func - Hàm cần trì hoãn\n * @param {number} wait - Thời gian trì hoãn (ms)\n * @returns {Function} - Hàm đã được trì hoãn\n */export const debounce=(func,wait)=>{let timeout;return function executedFunction(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};};/**\n * Lấy thông tin từ localStorage\n * @param {string} key - Khóa lưu trữ\n * @param {any} defaultValue - Giá trị mặc định khi không tìm thấy\n * @returns {any} - Giá trị đã lưu hoặc giá trị mặc định\n */export const getFromStorage=function(key){let defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{const item=localStorage.getItem(key);return item?JSON.parse(item):defaultValue;}catch(error){console.error('Error getting from localStorage:',error);return defaultValue;}};/**\n * Lưu thông tin vào localStorage\n * @param {string} key - Khóa lưu trữ\n * @param {any} value - Giá trị cần lưu\n */export const saveToStorage=(key,value)=>{try{localStorage.setItem(key,JSON.stringify(value));}catch(error){console.error('Error saving to localStorage:',error);}};/**\n * Xóa thông tin từ localStorage\n * @param {string} key - Khóa cần xóa\n */export const removeFromStorage=key=>{try{localStorage.removeItem(key);}catch(error){console.error('Error removing from localStorage:',error);}};","map":{"version":3,"names":["formatDuration","minutes","isNaN","hours","Math","floor","mins","concat","formatViews","views","toFixed","toString","formatRating","rating","getSafeImageUrl","url","fallback","arguments","length","undefined","URL","e","createSlug","text","toLowerCase","trim","replace","generateYears","count","currentYear","Date","getFullYear","years","i","push","debounce","func","wait","timeout","executedFunction","_len","args","Array","_key","later","clearTimeout","setTimeout","getFromStorage","key","defaultValue","item","localStorage","getItem","JSON","parse","error","console","saveToStorage","value","setItem","stringify","removeFromStorage","removeItem"],"sources":["D:/Phim API/src/utils/utils.js"],"sourcesContent":["/**\n * Định dạng thời lượng phim từ phút sang định dạng giờ:phút\n * @param {number} minutes - Thời lượng phim tính bằng phút\n * @returns {string} - Thời lượng định dạng giờ:phút\n */\nexport const formatDuration = (minutes) => {\n  if (!minutes || isNaN(minutes)) return 'N/A';\n  \n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  \n  if (hours === 0) {\n    return `${mins} phút`;\n  }\n  \n  return `${hours} giờ ${mins > 0 ? `${mins} phút` : ''}`;\n};\n\n/**\n * Định dạng số lượt xem\n * @param {number} views - Số lượt xem\n * @returns {string} - Số lượt xem đã định dạng\n */\nexport const formatViews = (views) => {\n  if (!views || isNaN(views)) return '0';\n  \n  if (views >= 1000000) {\n    return `${(views / 1000000).toFixed(1)}M`;\n  }\n  \n  if (views >= 1000) {\n    return `${(views / 1000).toFixed(1)}K`;\n  }\n  \n  return views.toString();\n};\n\n/**\n * Định dạng điểm đánh giá\n * @param {number} rating - Điểm đánh giá\n * @returns {string} - Điểm đánh giá đã định dạng\n */\nexport const formatRating = (rating) => {\n  if (!rating || isNaN(rating)) return 'N/A';\n  return rating.toFixed(1);\n};\n\n/**\n * Tạo URL an toàn cho hình ảnh\n * @param {string} url - URL hình ảnh\n * @param {string} fallback - URL dự phòng khi URL chính không hợp lệ\n * @returns {string} - URL hình ảnh an toàn\n */\nexport const getSafeImageUrl = (url, fallback = '') => {\n  if (!url) return fallback;\n  \n  // Kiểm tra URL có hợp lệ không\n  try {\n    new URL(url);\n    return url;\n  } catch (e) {\n    return fallback;\n  }\n};\n\n/**\n * Tạo slug từ chuỗi\n * @param {string} text - Chuỗi cần tạo slug\n * @returns {string} - Slug đã tạo\n */\nexport const createSlug = (text) => {\n  if (!text) return '';\n  \n  // Chuyển về chữ thường và thay thế các ký tự đặc biệt\n  return text\n    .toLowerCase()\n    .trim()\n    .replace(/[áàảãạâấầẩẫậăắằẳẵặ]/g, 'a')\n    .replace(/[éèẻẽẹêếềểễệ]/g, 'e')\n    .replace(/[íìỉĩị]/g, 'i')\n    .replace(/[óòỏõọôốồổỗộơớờởỡợ]/g, 'o')\n    .replace(/[úùủũụưứừửữự]/g, 'u')\n    .replace(/[ýỳỷỹỵ]/g, 'y')\n    .replace(/đ/g, 'd')\n    .replace(/\\s+/g, '-')\n    .replace(/[^\\w\\-]+/g, '')\n    .replace(/\\-\\-+/g, '-')\n    .replace(/^-+/, '')\n    .replace(/-+$/, '');\n};\n\n/**\n * Tạo mảng các năm từ năm hiện tại đến năm quá khứ\n * @param {number} count - Số năm cần tạo\n * @returns {Array} - Mảng các năm\n */\nexport const generateYears = (count = 20) => {\n  const currentYear = new Date().getFullYear();\n  const years = [];\n  \n  for (let i = 0; i <= count; i++) {\n    years.push(currentYear - i);\n  }\n  \n  return years;\n};\n\n/**\n * Trì hoãn thực thi hàm (debounce)\n * @param {Function} func - Hàm cần trì hoãn\n * @param {number} wait - Thời gian trì hoãn (ms)\n * @returns {Function} - Hàm đã được trì hoãn\n */\nexport const debounce = (func, wait) => {\n  let timeout;\n  \n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    \n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\n/**\n * Lấy thông tin từ localStorage\n * @param {string} key - Khóa lưu trữ\n * @param {any} defaultValue - Giá trị mặc định khi không tìm thấy\n * @returns {any} - Giá trị đã lưu hoặc giá trị mặc định\n */\nexport const getFromStorage = (key, defaultValue = null) => {\n  try {\n    const item = localStorage.getItem(key);\n    return item ? JSON.parse(item) : defaultValue;\n  } catch (error) {\n    console.error('Error getting from localStorage:', error);\n    return defaultValue;\n  }\n};\n\n/**\n * Lưu thông tin vào localStorage\n * @param {string} key - Khóa lưu trữ\n * @param {any} value - Giá trị cần lưu\n */\nexport const saveToStorage = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.error('Error saving to localStorage:', error);\n  }\n};\n\n/**\n * Xóa thông tin từ localStorage\n * @param {string} key - Khóa cần xóa\n */\nexport const removeFromStorage = (key) => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Error removing from localStorage:', error);\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}